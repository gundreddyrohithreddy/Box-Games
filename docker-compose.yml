services:
  backend:
    build: ./backend
    container_name: app-backend
    restart: always
    # Minimal env for backend (SQLite is used now)
    environment:
      - CORS_ORIGINS=*
      - JWT_SECRET_KEY=boxgames-secret-key-change-in-production-12345
    ports:
      - "8000:8000"

  frontend:
    build: ./frontend
    container_name: app-frontend
    restart: always
    depends_on:
      - backend
    # Ensure the React app talks to the backend service by hostname when containerized
    environment:
      - REACT_APP_BACKEND_URL=http://app-backend:8000
    ports:
      - "3000:3000"

# No external volumes required for SQLite-based backend
